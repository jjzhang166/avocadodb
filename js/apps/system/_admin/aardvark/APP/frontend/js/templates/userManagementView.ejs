<script id="userManagementView.ejs" type="text/template">
  <div class="headerBar">
    <div class="search-field">
      <input type="text" value="<%=searchString%>" id="userManagementSearchInput" class="search-input" placeholder="搜索..."/>
      <!-- <img id="userManagementSearchSubmit" class="search-submit-icon"> -->
      <i id="userManagementSearchSubmit" class="fa fa-search"></i>
    </div>
    <div class="headerButtonBar">
      <ul class="headerButtonList">
        <li class="enabled">
        <a id="userManagementToggle" class="headerButton">
          <span class="icon_avocadodb_settings2" title="设置"></span>
        </a>
        </li>
      </ul>
    </div>
  </div>


<div id="userManagementDropdown2" class="headerDropdown">

  <div id="userManagementDropdown" class="dropdownInner">
    <ul>
      <li class="nav-header">排序</li>

      <!--<li><a href="#">
        <label class="checkbox checkboxLabel">
          <input class="css-checkbox" type="checkbox" id="sortName">
          <label class="css-label css-label-round"></label>Sort by username
        </label>
      </a></li>

      <li><a href="#">
        <label class="checkbox checkboxLabel">
          <input class="css-checkbox" type="checkbox" id="sortType">
          <label class="css-label css-label-round"></label>Sort by status
        </label>
      </a></li>-->

      <li><a href="#">
        <label class="checkbox checkboxLabel">
          <input class="css-checkbox" type="checkbox" id="userSortDesc">
          <i class="fa"></i>
          降序排序
        </label>
      </a></li>
    </ul>
  </div>

</div>


  <div class="contentDiv" id="avocadoCollectionsContainer">
    <div id="userManagementThumbnailsIn" class="tileList pure-u">
      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">
        <div class="fullBorderBox">
          <a id="createUser" class="add">
            <span id="newUser" class="pull-left add-Icon"><i class="fa fa-plus-circle"></i></span>
            新建用户
          </a>
        </div>
      </div>


            <% collection.forEach(function(user) {
              var username = user.get("user"),
                extra = user.get("extra"),
                name = extra.name,
                img = extra.img,
                active = user.get("active"),
                avatar = '<img src="';

              if (! img) {
                avatar += 'img/default_user.png';
              } else {
                avatar += 'https://s.gravatar.com/avatar/';
                avatar += img;
                avatar += '?s=50';
              }
              avatar += '" height="50" width="50" alt="" class="icon" id="';
              avatar += _.escape(username);
              avatar += '" />';
              if (! name) {
                name = " ";
              }
      %>

      <div class="tile pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-6">
        <div class="paddingBox">
          <div class="borderBox"></div>
          <div class="iconSet">
            <!-- <span class="icon_avocadodb_settings2 editUser" id="<%=_.escape(username) %>_edit-user" alt="Edit user" title="Edit user"></span> -->
          </div>
          <%=avatar %>
          <div class="tileBadge">
            <span>
              <%if (active) {%>
              <div class="corneredBadge loaded">
                激活
              </div>
              <%} else {%>
              <div class="corneredBadge unloaded">
                挂起
              </div>
              <%}%>
            </span>
          </div>

          <h5 class="collectionName"><%=_.escape(username) %> <% if (name !== ' ') { %>(<%=_.escape(name) %>)<%}%></h5>
        </div>
      </div>
      <%});%>
     </div>
  </div>
</script>
